{
  "hash": "a0837f4110215cafc21cc57b86e00b09",
  "result": {
    "markdown": "---\ntitle: \"ggBernie Competition Entry\"\nauthor: \"Ashlyn Johnson\"\ndate: \"2021-04-21\"\ncategories: [R]\nimage: \"ggbernie_plot.gif\"\n---\n\n\nHosted by the Emory Data Visualization and Analysis Committee for the Graduate Division of Biological and Biomedical Scienes, the ggBernie competition was a data visualization challenge to create a compelling plot using the R packages ggplot and [ggBernie](https://github.com/R-CoderDotCom/ggbernie). Below is the code for my winning submission:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(tidytuesdayR)\nlibrary(ggbernie)\nlibrary(gganimate)\nlibrary(ggthemes)\nlibrary(ggdark)\n```\n:::\n\n\n# Getting the data\n\nI will be using data from the [Urban Institute and the US Census curated by the Tidy Tuesday project](https://github.com/rfordatascience/tidytuesday/blob/master/data/2021/2021-02-09/readme.md)\n\nThis dataset includes data regarding racial wealth inequality in the United States. within this dataset is data on average family student loan debt for aged 25-55, by race and year (normalized to 2016 dollars). I know a major part of Bernie's platform is eliminating the cost of higher education so I figured that this dataset is particularly fitting for this challenge.\n\nBelow I am using the `tidytuesdayR` package to download the relevant data.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwealthinequality <- tidytuesdayR::tt_load(2021, week = 7)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tDownloading file 1 of 11: `home_owner.csv`\n\tDownloading file 2 of 11: `income_aggregate.csv`\n\tDownloading file 3 of 11: `income_distribution.csv`\n\tDownloading file 4 of 11: `income_limits.csv`\n\tDownloading file 5 of 11: `income_mean.csv`\n\tDownloading file 6 of 11: `income_time.csv`\n\tDownloading file 7 of 11: `lifetime_earn.csv`\n\tDownloading file 8 of 11: `lifetime_wealth.csv`\n\tDownloading file 9 of 11: `race_wealth.csv`\n\tDownloading file 10 of 11: `retirement.csv`\n\tDownloading file 11 of 11: `student_debt.csv`\n```\n:::\n\n```{.r .cell-code}\nstudent_debt <- wealthinequality$student_debt %>% \n  mutate(race = factor(race, \n                       levels = c(\"White\",\n                                  \"Hispanic\",\n                                  \"Black\")))\n```\n:::\n\n\n# Making the graph\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot <- ggplot(student_debt, \n               aes(x = year, \n                   y = loan_debt_pct * 100)) +\n  geom_line(data = student_debt %>%\n              filter(race == \"White\"),\n            aes(x = year, \n                y = loan_debt_pct * 100),\n            color = \"yellow\",\n            size = 1.5) +\n  geom_bernie(data = student_debt %>% \n                filter(race == \"White\"),\n              aes(x = year, \n                  y = loan_debt_pct * 100),\n              bernie = \"head\") +\n  geom_label(data = student_debt %>% \n               filter(race == \"White\"),\n             aes(x = year, \n                 y = loan_debt_pct * 100, \n                 label = race),\n             nudge_y = -2.5) +\n  geom_line(data = student_debt %>% \n              filter(race == \"Hispanic\"),\n            aes(x = year, \n                y = loan_debt_pct * 100),\n            color = \"cyan\",\n            size = 1.5) + \n  geom_bernie(data = student_debt %>% \n                filter(race == \"Hispanic\"),\n              aes(x = year, \n                  y = loan_debt_pct * 100),\n              bernie = \"stand\") + \n  geom_label(data = student_debt %>% \n               filter(race == \"Hispanic\"),\n             aes(x = year, \n                 y = loan_debt_pct * 100, \n                 label = race), \n             nudge_y = -3.5) +\n  geom_line(data = student_debt %>%  \n              filter(race == \"Black\"),\n            aes(x = year, \n                y = loan_debt_pct * 100),\n            color = \"limegreen\", \n            size = 1.5) +\n  geom_bernie(data = student_debt %>% \n                filter(race == \"Black\"),\n              aes(x = year, \n                  y = loan_debt_pct * 100),\n              bernie = \"sitting\") + \n  geom_label(data = student_debt %>% \n               filter(race == \"Black\"), \n             aes(x = year, \n                 y = loan_debt_pct * 100, \n                 label = race), \n             nudge_y = -2.5) +\n  scale_x_continuous(limits = c(1989, 2016),\n                     breaks = seq(1989, 2016, by = 3)) +\n  scale_y_continuous(limits = c(0, 50)) +\n  labs(title = \"Black families are disproportionately burdened by student loan debt.\",\n       subtitle = expression(paste(italic(\"We need a revolution in the way higher education is funded.\"),\n      \" -Bernie Sanders\")),\n      x = \"Year of Measure\",\n      y = \"Percentage of Families with Student Loan Debt\",\n      caption = \"Source: Urban Institute, US Census, and Tidy Tuesday (2021, Week 7) \\n Viz: @ashgjoh\") +\n  dark_theme_minimal() +\n  transition_reveal(along = year, keep_last = FALSE)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nInverted geom defaults of fill and color/colour.\nTo change them back, use invert_geom_defaults().\n```\n:::\n:::\n\n\nAfter all of this code, we can actually see the animated plot with the following code:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nanimate(plot)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-4-1.gif)\n:::\n:::\n\n\n# Interpretation\n\nBeginning in the late 1990s, the share of Black families with student loan debt began to rise at a faster rate relative to White and Hispanic families. Further analysis should be used to determine whether this increase in student debt coincides with tuition increase. Additionally, further analysis should be used to determine how this increase in student debt correlates with college attendance rates.\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": null
  }
}